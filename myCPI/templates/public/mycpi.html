<script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>

{% extends "layout.html" %}
{% block js %}
    <script src="http://code.highcharts.com/highcharts.js"></script>
{% endblock %}
{% block content %}
<!--     <style>
    .col{
        padding: 8px; 
        border: 2px solid darkgray; 
        } 
    .row { 
        margin-top: 16px; 
        background-color: lightgray; 
        } 
    </style > -->

        <div id="fluid-container">
            <!-- <div id="content"> -->
                <p>MyCPI calculates your personal price index based on your personal expenses over eight spending categories.<br/><br/>
        Please enter the amount you spent ($) over the last year in each of the following categories:</p>
                </br>
                <form id="BudgetShareForm" method="POST" action="" role="form" class="form-inline">
                    {{ form.hidden_tag() }}
                    <div class="fluid-container">
<!--                         <div class="row" id="row2">
                            <div class="form-group">
                                <div class="panel panel-default col-xs-12">
                                    <div class="panel-heading clearfix">
                                        <h3 class="panel-title">Hello 1</h3>
                                    </div>
                                    <div class="panel-body">
                                    </div>
                                </div>                                
                            </div>
                        </div> -->
                        <div class="row" id="row1">
                            <div class="panel panel-primary col-xs-5">
                                <div class="panel-heading clearfix">
                                    <h3 class="panel-title">Budgetary Expenses</h3>
                                </div>
                                <div class="panel-body">
                                        <div class="row">
                                            <label class="form-control col-xs-1 col-xs-offset-1" for="food">{{form.food_share.label(title="breakfast cereal, milk, coffee, chicken, wine, full service meals and snacks")}}</label>
                                            <!-- <div class="col-xs-1"></div> -->
                                            <div class="input-group pull-right">
                                                <span class="input-group-addon">$</span>
                                                {{form.food_share(placeholder="Food/Beverage", class="form-control", id="food", type="text")}}
                                                <span class="input-group-addon">.00</span>
                                            </div>
                                        </div>
                                        <br/>
                                        <div class="row">
                                            <label class="form-control col-xs-1 col-xs-offset-1" for="housing">{{form.housing_share.label(title="rent of primary residence, owners' equivalent rent, fuel oil, bedroom furniture")}} </label>
                                            <!-- <div class="col-xs-1"></div> -->
                                            <div class="input-group pull-right">
                                                <span class="input-group-addon">$</span>
                                                {{form.housing_share(placeholder="Housing", class="form-control", id="housing", type="text")}}
                                                <span class="input-group-addon">.00</span>
                                            </div>
                                        </div>
                                        <br/>
                                        <!-- <div class="row"></div> -->
                                        <div class="row">
                                            <label class="form-control col-xs-1 col-xs-offset-1" for="apparel">{{form.apparel_share.label(title="men's shirts and sweaters, women's dresses, jewelry")}} </label>
                                            <!-- <div class="col-xs-1"></div> -->
                                            <div class="input-group pull-right">
                                                <span class="input-group-addon">$</span>
                                                {{form.apparel_share(placeholder="Apparel", class="form-control", id="apparel", type="text")}}
                                                <span class="input-group-addon">.00</span>
                                            </div>
                                        </div>
                                        <br/>
                                        <div class="row">
                                            <label class="form-control col-xs-1 col-xs-offset-1" for="transportation">{{form.transportation_share.label(title="new vehicles, airline fares, gasoline, motor vehicle insurance")}} </label>
                                            <!-- <div class="col-xs-1"></div> -->
                                            <div class="input-group pull-right">
                                                <span class="input-group-addon">$</span>
                                                {{form.transportation_share(placeholder="Transportation", class="form-control", id="transportation", type="text")}}
                                                <span class="input-group-addon">.00</span>
                                            </div>
                                        </div>
                                        <br/>
                                        <div class="row">
                                            <label class="form-control col-xs-1 col-xs-offset-1" for="medical">{{form.medical_share.label(title="prescription drugs and medical supplies, pysicians' services, eyeglasses and eye care, hospital services")}} </label>
                                            <!-- <div class="col-xs-1"></div> -->
                                            <div class="input-group pull-right">
                                                <span class="input-group-addon">$</span>
                                                {{form.medical_share(placeholder="Medical Care", class="form-control", id="medical", type="text")}}
                                                <span class="input-group-addon">.00</span>
                                            </div>
                                        </div>
                                        <br/>
                                        <div class="row">
                                            <label class="form-control col-xs-1 col-xs-offset-1" for="recreation">{{form.recreation_share.label(title="televisions, cable television, pets and pet products, sports equipment, admissions")}} </label>
                                            <!-- <div class="col-xs-1"></div> -->
                                            <div class="input-group col-xs-offset-1 pull-right">
                                                <span class="input-group-addon">$</span>
                                                {{form.recreation_share(placeholder="Recreation", class="form-control", id="recreation", type="text")}}
                                                <span class="input-group-addon">.00</span>
                                            </div>
                                        </div>
                                        <br/>
                                        <div class="row">
                                            <label class="form-control col-xs-1 col-xs-offset-1" for="education">{{form.edu_share.label(title="college tuition, postage, telephone services, computer software and accessories")}} </label>
                                            <!-- <div class="col-xs-1"></div> -->
                                            <div class="input-group pull-right">
                                                <span class="input-group-addon">$</span>
                                                {{form.edu_share(placeholder="Education", class="form-control", id="education", type="text")}}
                                                <span class="input-group-addon">.00</span>
                                            </div>
                                        </div>
                                        <br/>
                                        <div class="row">
                                            <label class="form-control col-xs-1 col-xs-offset-1" for="other">{{form.other_share.label(title="tobacco and smoking products, haircuts and other personal services, funeral expenses")}} </label>
                                            <!-- <div class="col-xs-1"></div> -->
                                            <div class="input-group pull-right">
                                                <span class="input-group-addon">$</span>
                                                {{form.other_share(placeholder="Other", class="form-control", id="other", type="text")}}
                                                <span class="input-group-addon">.00</span>
                                            </div>
                                        </div>
                                </div>
                            </div>
                            <!-- <div class="col-xs-1"></div> -->
<!--                             <div class =" dropdown" > 
                                <button class="btn btn-primary dropdown-toggle" type =" button" id ="dropdown1" data-toggle="dropdown" > Where do you live? <span class =" caret" > </span > </button > 
                                <ul class =" dropdown-menu" role ="menu" aria-labelledby ="dropdown1" > 
                                    <li role =" presentation" > <a role =" menuitem" href ="#" > North East </a > </li > 
                                    <li role =" presentation" > <a role =" menuitem" href ="#" > Mid West </a > </li > 
                                    <li role =" presentation" > <a role =" menuitem" href ="#" > Wreck dive </a > </li > 
                                    <li role =" presentation" class =" divider" > </li > 
                                    <li role =" presentation" > <a role =" menuitem" href ="#" > Cave dive </a > </li > 
                                </ul > 
                            </div > -->
                            <div class="panel panel-primary col-xs-3 col-xs-offset-1">
                                <div class="panel-heading clearfix">
                                    <!-- <h3 class="panel-title">Region Of Residence</h3> -->
                                    <h3 class="panel-title">{{ form.rgn_residence.label(title="Where do you live?") }}</h3>
                                </div>
                                <div class="panel-body">
                                    <div class="row" style="margin: 0 auto; width: 75% ">
                                        <div class="col-xs-3">
                                        {{ form.rgn_residence(class="form-control") }}
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xs-2"></div>
                            <div class="panel panel-primary col-xs-3 col-xs-offset-1">
                                <div class="panel-heading clearfix">
                                    <!-- <h3 class="panel-title">Region Of Residence</h3> -->
                                    <h2 class="panel-title">{{ form.age_group.label(title="How old are you") }}</h2>
                                </div>
                                <div class="panel-body">
                                    <div class="row" style="margin: 0 auto; width: 75% ">
                                        <div class="col-xs-3">
                                        {{ form.age_group(class="form-control") }}
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xs-2"></div>
                            <div class="panel panel-primary col-xs-3 col-xs-offset-1">
                                <div class="panel-heading clearfix">
                                    <!-- <h3 class="panel-title">Region Of Residence</h3> -->
                                    <h2 class="panel-title">{{ form.edu_level.label(title="Highest Edudation") }}</h2>
                                </div>
                                <div class="panel-body">
                                    <div class="row" style="margin: 0 auto; width: 75% ">
                                        <div class="col-xs-3">
                                        {{ form.edu_level(class="form-control") }}
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xs-2"></div>
                            <div class="panel panel-primary col-xs-3 col-xs-offset-1">
                                <div class="panel-heading clearfix">
                                    <!-- <h3 class="panel-title">Region Of Residence</h3> -->
                                    <h2 class="panel-title">{{ form.income_group.label(title="Income Group") }}</h2>
                                </div>
                                <div class="panel-body">
                                    <div class="row" style="margin: 0 auto; width: 75% ">
                                        <div class="col-xs-3">
                                        {{ form.income_group(class="form-control") }}
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <br/>
                    <p><button type="submit" class="btn btn-primary btn-submit">Submit</button></p>
                </form>
                <br/><br/><br/>
                <form id="mycpi_panel" role="form" class="form-inline">
                    <div class="panel panel-default clearfix col-xs-5">
                        <div class="panel-heading">
                            <h3 class="panel-title"><b>CPI Comparison</b></h3>
                        </div>
                        <div class="panel-body">
                            <div class="row">
                                <div class="form-group">
                                    <label for="mycpi" class="col-xs-5">My CPI</label>
                                    <div>
                                        {% if my_cpi == None %}
                                            {{form.my_cpi(placeholder="My Inflation", class="form-control col-lg-2", value=0.0, readonly=true)}}
                                        {% else %}
                                            {{form.my_cpi(value=my_cpi, class="form-control col-lg-2", readonly=true)}}
                                        {% endif %}
                                    </div>
                                </div>
                                <div class="form-group pull-right">
                                    <label for="mycpi" class="col-xs-8">National CPI</label>
                                    <div>
                                        {{form.avg_cpi(value=236.625, readonly=true, class="form-control col-lg-2")}}
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            <!-- </div> -->
        </div>
        <br/><br/><br/> <br/><br/><br/>
        {% if share_data.page_type == 'graph' %}
        <div class="container">
            <div id="myCarousel" class="carousel slide" data-ride="carousel">
                <!-- Indicators -->
                <ol class="carousel-indicators">
                    <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
                    <li data-target="#myCarousel" data-slide-to="1"></li>
                </ol>

                <!-- Wrapper for slides -->
                <div class="carousel-inner" >
                    <div class="item">
                        <div id="{{ share_data_1.chart.renderTo }}" class="{{ share_data_1.page_type }}" style="min-width: 510px; height: 600px; max-width: 600px; margin: 0 auto">
                            <script type="text/javascript" src="{{ url_for('static', filename='js/graph_highcharts.js') }}"></script>
                            <script type="text/javascript">
                                <!-- variable for div id -->
                                var chart_id = '{{ share_data_1.chart.renderTo|safe }}';
                                <!-- variable for title -->
                                var title = {{ share_data_1.title|safe }};
                                <!-- variable for chart variables. Adding further params that cannot be added through python -->
                                var chart = {{ share_data_1.chart|safe }};
                                chart.plotBackgroundColor = null;
                                chart.plotBorderWidth = null;
                                chart.plotShadow = false;
                                <!-- variable for the data -->
                                var series = {{ share_data_1.series|safe }};
                                <!-- variable for xAxis -->
                                var x_axis = {{ share_data_1.xAxis|safe }};
                                <!-- variable for yAxis -->
                                var y_axis = {{ share_data_1.yAxis|safe }};
                            </script>
                        </div>
                    </div>
                    <div class="item active">
                        <div id="{{ share_data.chart.renderTo }}" class="{{ share_data.page_type }}" style="min-width: 510px; height: 600px; max-width: 600px; margin: 0 auto">
                            <script type="text/javascript" src="{{ url_for('static', filename='js/graph_highcharts.js') }}"></script>
                            <script type="text/javascript">
                                <!-- variable for div id -->
                                var chart_id = '{{ share_data.chart.renderTo|safe }}';
                                <!-- variable for title -->
                                var title = {{ share_data.title|safe }};
                                <!-- variable for chart variables. Adding further params that cannot be added through python -->
                                var chart = {{ share_data.chart|safe }};
                                chart.plotBackgroundColor = null;
                                chart.plotBorderWidth = null;
                                chart.plotShadow = false;
                                <!-- variable for the data -->
                                var series = {{ share_data.series|safe }};
                                <!-- variable for xAxis -->
                                var x_axis = {{ share_data.xAxis|safe }};
                                <!-- variable for yAxis -->
                                var y_axis = {{ share_data.yAxis|safe }};
                            </script>
                        </div>
                    </div>
                </div>
                <!-- Left and right controls -->
                <a class="left carousel-control" href="#myCarousel" role="button" data-slide="prev">
                    <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
                    <span class="sr-only">Previous</span>
                </a>
                <a class="right carousel-control" href="#myCarousel" role="button" data-slide="next">
                    <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
                    <span class="sr-only">Next</span>
                </a>
            </div>
        </div>
        {% endif %}
        <br/><br/><br/>
{% endblock %}
